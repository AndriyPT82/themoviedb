(this.webpackJsonpthemoviedb=this.webpackJsonpthemoviedb||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(11),o=c.n(s),r=(c(17),c(5)),i=c(2),l=c(3),u=(c(18),c(10)),j=c.n(u),b=c(12),d="0c80bada61f7914facf2a24b8adcdf66",m=function(){var e=Object(b.a)(j.a.mark((function e(t){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/".concat(t));case 3:return c=e.sent,e.next=6,c.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return m("discover/movie?api_key=".concat(d,"&sort_by=").concat(e).concat(t,"&vote_count.gte=200&language=en-US"))},h=c(4),v=c.n(h),p=(c(20),c(21),c(0)),f=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),o=Object(l.a)(s,2),r=o[0],i=o[1],u=Object(n.useContext)(A),j=(u.userRequest,u.setUserRequest);return Object(n.useCallback)(function(e,t){var c;return function(n){clearTimeout(c),c=setTimeout(e,t,n)}}(i,1e3),[])(c),Object(n.useEffect)((function(){r&&j(r)}),[r]),Object(p.jsx)("input",{type:"text",autoFocus:!0,className:"search",value:c,onChange:function(e){a(e.target.value)}})},_=(c(23),function(e){var t=e.availableGenreList,c=e.handleNavigation,a=e.currentGenre,s=e.userRequest,o=e.setDefaultState,r=Object(n.useState)(!1),i=Object(l.a)(r,2),u=i[0],j=i[1],b=a?t.find((function(e){return e.id===a})).name:"Popularity";return Object(p.jsxs)("div",{className:v()("navigation"),children:[Object(p.jsxs)("div",{className:"navigation__tags",children:[Object(p.jsx)("span",{className:v()("navigation__tag",{"navigation__tag--active":!s}),onClick:function(){j(!1),o()},children:u&&s?"Home Page":b}),Object(p.jsx)("span",{className:v()("navigation__tag movies__tag--user-search",{"navigation__tag--active":!!s}),hidden:!s,children:"User Search"})]}),Object(p.jsxs)("div",{className:"navigation__inputs",children:[Object(p.jsxs)("label",{hidden:u,children:[Object(p.jsx)("span",{children:"Category:"}),Object(p.jsxs)("select",{name:"currentGenre",value:a,onChange:c,children:[Object(p.jsx)("option",{value:"",children:"Popularity"}),(t||[]).map((function(e){return Object(p.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]}),Object(p.jsxs)("label",{hidden:u,children:[Object(p.jsx)("span",{children:"Sort By:"}),Object(p.jsxs)("select",{name:"sortKey",onChange:c,children:[Object(p.jsx)("option",{value:"popularity.desc",children:"Popularity: \u2198"}),Object(p.jsx)("option",{value:"popularity.asc",children:"Popularity: \u2197"}),Object(p.jsx)("option",{value:"vote_average.desc",children:"Rating: \u2198"}),Object(p.jsx)("option",{value:"vote_average.asc",children:"Rating: \u2197"})]})]}),u&&Object(p.jsx)(f,{}),Object(p.jsx)("span",{className:"navigation__input-opener",onClick:function(){j(!u),o()},children:u?"X":"\ud83d\udd0d "})]})]})}),g=function(e){var t=e.setOpenCart,c=e.products,a=Object(n.useState)(!1),s=Object(l.a)(a,2),o=s[0],r=s[1],i=Object(n.useContext)(A),u=i.currentGenre,j=i.availableGenreList,b=i.setDefaultState,d=i.handleNavigation,m=i.userRequest;return Object(n.useEffect)((function(){c.length&&(r(!0),setInterval((function(){r(!1)}),2e3))}),[c.length]),Object(p.jsxs)("div",{className:"header",children:[Object(p.jsx)("h1",{className:"header__title",children:"Movie Store"}),Object(p.jsxs)("div",{className:v()("header__cart",{"header__cart--include-product":!!c.length,"header__cart--product-added":o}),onClick:function(){return t(!0)},children:[Object(p.jsx)("span",{className:"header__cart--product-count",children:c.length}),"\ud83d\uded2"]}),Object(p.jsx)(_,{currentGenre:u,availableGenreList:j,handleNavigation:d,userRequest:m,setDefaultState:b})]})},x=(c(24),c(25),function(e){var t=e.movie,c=t.id,a=t.original_title,s=t.poster_path,o=t.vote_average,r=Object(n.useContext)(A).handleChosenMovieId;return Object(p.jsxs)("li",{disabled:!!s,className:v()("card",{"card--is-disabled":!s}),onClick:function(){r(c)},children:[Object(p.jsxs)("span",{className:"card__price",children:[" $ ",(3*o).toFixed(2)]}),Object(p.jsxs)("span",{className:"card__ranking",children:["IMDB: ",o]}),Object(p.jsx)("img",{className:v()("card__img"),src:"https://image.tmdb.org/t/p/w300/".concat(s),alt:a})]})}),N=function(e){var t=e.movies,c=e.currentPage,n=e.countPage;return Object(p.jsxs)("ul",{className:"movies",children:[t.length?t.map((function(e){return Object(p.jsx)(a.a.Fragment,{children:Object(p.jsx)(x,{movie:e})},e.id)})):Object(p.jsx)("h1",{children:"'No Movies'"}),!!t.length&&Object(p.jsx)("span",{className:"movies__page-info",children:"Page: ".concat(c," ").concat(c!==n?"- ".concat(n):"")})]})},C=(c(26),function(){return Object(p.jsx)("div",{className:"footer",children:Object(p.jsxs)("div",{className:"footer__about-author",children:[Object(p.jsx)("span",{children:"Andriy Ivanyk"}),Object(p.jsxs)("div",{className:"footer__social-media",children:[Object(p.jsx)("a",{href:"https://www.facebook.com/andriy.ivanyk.3",className:"footer__icon",children:Object(p.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/124/124010.png",alt:""})}),Object(p.jsx)("a",{href:"https://github.com/AndriyPT82?tab=repositories",className:"footer__icon",children:Object(p.jsx)("img",{src:"https://cdn4.iconfinder.com/data/icons/socialcones/508/Github-512.png",alt:""})}),Object(p.jsx)("a",{href:"https://www.linkedin.com/in/andriy-ivanyk-06057a1b8/",className:"footer__icon",children:Object(p.jsx)("img",{src:"https://cdn2.iconfinder.com/data/icons/social-media-2285/512/1_Linkedin_unofficial_colored_svg-512.png",alt:""})})]})]})})}),y=c(6),S=(c(27),function(e){var t,c,n=e.countPage,a=e.currentPage,s=e.onSetCurrentPage,o=(t=a,(c=n)<=6?1===c?[]:Object(y.a)(Array(c).keys()).map((function(e){return++e})):t<=4||t>=c-3?t<=4?[1,2,3,4,5,!1,c]:[1,!1,c-4,c-3,c-2,c-1,c]:[1,!1,t-1,t,t+1,!1,c-1]);return Object(p.jsxs)("div",{className:"paginator",children:[Object(p.jsxs)("div",{className:"paginator__extra",children:[Object(p.jsx)("button",{className:"paginator__button",disabled:a<20,value:a-10,onClick:s,children:"< 10"}),Object(p.jsx)("button",{className:"paginator__button",disabled:a<150,value:a-100,onClick:s,children:"< 100"}),Object(p.jsx)("button",{className:"paginator__button",disabled:n-150<a,value:a+100,onClick:s,children:"100 >"}),Object(p.jsx)("button",{className:"paginator__button",disabled:n-20<a,value:a+10,onClick:s,children:"10 >"})]}),Object(p.jsxs)("div",{className:"paginator__basic",children:[Object(p.jsx)("button",{className:"paginator__button paginator__button--left ",disabled:1===a,value:a-1,onClick:s,children:"<"}),o.map((function(e,t){return Object(p.jsx)("button",{className:"paginator__button",disabled:e===a||!e,value:e,onClick:s,children:!1===e?"...":e},t)})),Object(p.jsx)("button",{className:"paginator__button paginator__button--right",disabled:a===n,value:a+1,onClick:s,children:">"})]})]})}),k=(c(28),c(29),c(30),c(39)),P=(c(31),/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/),w=function(e){var t=e.openedForm,c=Object(n.useState)({name:"",email:"",comment:""}),a=Object(l.a)(c,2),s=a[0],o=a[1],u=Object(n.useState)({name:"",email:"",comment:""}),j=Object(l.a)(u,2),b=j[0],d=j[1],m=Object(n.useContext)(L),O=function(e){var t=e.target,c=t.name,n=t.value;o((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(r.a)({},c,""))})),d((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(r.a)({},c,n))}))},h=function(e){var t=e.target,c=t.name,n=t.value;if(n.length<4||"email"===c&&!P.test(n)){console.log(P.test(n),c);var a="email"===c?"not valid":"min length errors";o((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(r.a)({},c,a))}))}},f=b.name,_=b.email,g=b.comment;return Object(p.jsxs)("div",{className:v()("comment-form",{"comment-form--opened":t}),children:[Object(p.jsxs)("div",{className:"comment-form__textarea",children:[Object(p.jsx)("span",{className:"comment-form__input-title",children:"Comment: ".concat(s.comment)}),Object(p.jsx)("textarea",{name:"comment",className:v()("comment-form__text-field",{error:!!s.comment}),rows:"5",value:g,onChange:O,onBlur:h})]}),Object(p.jsxs)("div",{className:"comment-form__inputs",children:[Object(p.jsxs)("label",{className:"comment-form__input-title",children:["User: ".concat(s.name),Object(p.jsx)("input",{type:"text",name:"name",className:v()("comment-form__input",{error:!!s.name}),value:f,onChange:O,onBlur:h})]}),Object(p.jsxs)("label",{className:"comment-form__input-title",children:["Email: ".concat(s.email),Object(p.jsx)("input",{type:"text",name:"email",className:v()("comment-form__input",{error:!!s.email}),value:_,onChange:O,onBlur:h})]}),Object(p.jsx)("button",{className:"comment-form__button",disabled:function(){var e=Object.values(s).some((function(e){return!!e})),t=Object.values(b).some((function(e){return!e}));return e||t}(),onClick:function(){var e=Object(k.a)(),t=Object(i.a)({id:e},b);m((function(e){return[].concat(Object(y.a)(e),[t])})),d({name:"",email:"",comment:""})},children:"Comment"})]})]})},G=(c(32),function(e){var t=e.comment,c=e.name,n=e.email;return Object(p.jsxs)("li",{className:"comment",children:[Object(p.jsx)("p",{className:"comment__text",children:t}),Object(p.jsxs)("span",{className:"comment__user-info",children:[Object(p.jsx)("span",{children:c}),Object(p.jsx)("span",{children:n})]})]})}),M=function(e){var t=e.setTagsList,c=e.comments,s=void 0===c?[]:c,o=e.setOpenComments,r=Object(n.useState)(!1),u=Object(l.a)(r,2),j=u[0],b=u[1];return Object(n.useEffect)((function(){return t((function(e){return Object(i.a)(Object(i.a)({},e),{},{comments:!0})})),function(){return t((function(e){return Object(i.a)(Object(i.a)({},e),{},{comments:!1})}))}}),[]),Object(p.jsxs)("div",{className:"comments",children:[Object(p.jsx)("span",{className:"comments__closer",onClick:function(){return o(!1)},children:"\u2715"}),Object(p.jsx)("ul",{className:"comments__text",children:s.length?s.map((function(e){return Object(p.jsx)(a.a.Fragment,{children:Object(p.jsx)(G,Object(i.a)({},e))},e.id)})):Object(p.jsx)("h2",{children:"No Comments"})}),Object(p.jsx)("button",{className:"comments__opener",onClick:function(){return b(!j)},children:j?"Close Form":"Send Comment"}),j&&Object(p.jsx)(w,{openedForm:j})]})},I=(c(33),a.a.memo((function(e){var t=e.items,c=e.currentTag,a=Object(n.useContext)(U).handleUserChoise;return Object(p.jsx)("div",{className:"carousel",children:Object(p.jsx)("div",{className:"carousel__box-items",children:Object(p.jsx)("ul",{className:"carousel__items",children:!!t&&t.map((function(e){return Object(p.jsxs)("li",{className:"carousel__item",onClick:function(){return a({id:e.id,tag:c})},children:[Object(p.jsx)("img",{src:"https://image.tmdb.org/t/p/w200/".concat(e.profile_path||e.poster_path),alt:e.title||e.title}),Object(p.jsx)("h3",{children:e.name||""})]},e.id)}))})})})}))),L=(c(34),a.a.createContext()),E=function(e){var t=e.movieActorsList,c=e.setTagsList,a=e.closePopup,s=Object(n.useContext)(A),o=s.chosenMovie,r=s.handleNavigation,u=s.setCart,j=s.cartGoodsIds,b=o.id,d=o.poster_path,m=o.release_date,O=o.vote_average,h=o.original_title,f=o.overview,_=o.genres,g=Object(n.useState)(null),x=Object(l.a)(g,2),N=x[0],C=x[1],S=Object(n.useState)(!1),k=Object(l.a)(S,2),P=k[0],w=k[1],G=Object(n.useRef)();Object(n.useEffect)((function(){var e=localStorage.getItem("data"),t=JSON.parse(e);return C(t[b]||[]),function(){var e=localStorage.getItem("data"),t=JSON.parse(e);t[b]=G.current,localStorage.setItem("data",JSON.stringify(t))}}),[]),Object(n.useEffect)((function(){G.current=N}),[N]);var E=j.includes(b);return Object(p.jsxs)("div",{className:"movie",children:[Object(p.jsxs)("div",{className:"movie__promo",children:[Object(p.jsx)("img",{src:"https://image.tmdb.org/t/p/w300/".concat(d),alt:d}),Object(p.jsx)("span",{children:"relise: ".concat(m)}),Object(p.jsx)("span",{children:"IMDB: ".concat(O)}),Object(p.jsxs)("span",{children:["Price: ",(3*O).toFixed(2),"$"]}),Object(p.jsx)("button",{className:v()("movie__buy-button",{"movie__buy-button--disabled":E}),onClick:function(){a(),u((function(e){return[].concat(Object(y.a)(e),[o])}))},children:E?"In Cart":"Add to Cart"})]}),Object(p.jsxs)("div",{className:"movie__further-details",children:[Object(p.jsx)("div",{className:"movie__about",children:P?Object(p.jsx)(L.Provider,{value:C,children:Object(p.jsx)(M,{comments:N,setTagsList:c,setOpenComments:w})}):Object(p.jsxs)("div",{className:"movie__info",children:[Object(p.jsx)("h2",{className:"movie__title",children:h}),Object(p.jsx)("div",{className:"movie__overview",children:f}),Object(p.jsxs)("div",{className:"movie__genres",children:[Object(p.jsx)("h3",{children:"Genres:"}),Object(p.jsx)("ul",{children:_.map((function(e){return Object(p.jsx)("li",{className:"movie__genre",onClick:function(){r({target:{name:"currentGenre",value:e.id}}),a()},children:e.name},e.id)}))})]}),Object(p.jsx)("span",{className:"movie__comments",onClick:function(){c((function(e){return Object(i.a)(Object(i.a)({},e),{},{comments:!0})})),w(!P)},children:"comments..."})]})}),!t.length||!P&&Object(p.jsx)(I,{items:t})]})]})},T=(c(35),function(e){var t=e.actorMoviesList,c=e.profile_path,n=e.name,a=e.biography,s=e.place_of_birth;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"actor",children:[Object(p.jsxs)("div",{className:"actor__promo",children:[Object(p.jsx)("img",{src:"https://image.tmdb.org/t/p/w300/".concat(c),alt:"image"}),Object(p.jsxs)("div",{className:"actor__short-info",children:[Object(p.jsx)("h2",{className:"actor__name",children:n}),Object(p.jsx)("span",{children:s})]})]}),Object(p.jsxs)("div",{className:"actor__further-details",children:[Object(p.jsx)("div",{className:"actor__info",children:Object(p.jsx)("div",{className:"actor__biography",children:a})}),!!t.length&&Object(p.jsx)(I,{items:t,currentTag:"movie"})]})]})})}),U=a.a.createContext(),R=function(e){var t=e.toClose,c=e.closePopup,a=Object(n.useState)({movie:!0,actor:!1,comments:!1}),s=Object(l.a)(a,2),o=s[0],r=s[1],u=Object(n.useState)([]),j=Object(l.a)(u,2),b=j[0],O=j[1],h=Object(n.useState)(null),f=Object(l.a)(h,2),_=f[0],g=f[1],x=Object(n.useState)([]),N=Object(l.a)(x,2),C=N[0],S=N[1],k=Object(n.useContext)(A),P=k.id,w=k.handleChosenMovieId;Object(n.useEffect)((function(){(function(e){return m("movie/".concat(e,"/credits?api_key=").concat(d,"&language=en-US"))})(P).then((function(e){var t=[e.crew.find((function(e){return"Director"===e.job}))].concat(Object(y.a)(e.cast)).filter((function(e){return!!e.profile_path}));O(t)}))}),[P]);return Object(p.jsxs)("div",{className:v()("popup-content",{"popup__to-close":t}),children:[Object(p.jsx)("button",{type:"button",hidden:o.comments,className:v()("popup-content__tag-button","popup-content__tag-button--movie",{"popup-content__tag-button--active":o.movie}),onClick:function(){return r(Object(i.a)(Object(i.a)({},o),{},{movie:!0}))},children:"movie"}),Object(p.jsx)("button",{type:"button",hidden:o.comments||!o.actor,className:v()("popup-content__tag-button","popup-content__tag-button--actor",{"popup-content__tag-button--active":o.actor&&!o.movie}),onClick:function(){return r(Object(i.a)(Object(i.a)({},o),{},{movie:!1,actor:!0}))},children:"actor"}),Object(p.jsx)("div",{className:"popup-content--closer",onClick:function(){return c()},children:"\u2715"}),Object(p.jsx)(U.Provider,{value:{handleUserChoise:function(e){var t,c,n=e.id;if("movie"===e.tag)return w(n),void r((function(e){return Object(i.a)(Object(i.a)({},e),{},{movie:!0,actor:!1})}));Promise.all([(c=n,m("person/".concat(c,"?api_key=").concat(d,"&language=en-US"))),(t=n,m("person/".concat(t,"/movie_credits?api_key=").concat(d,"&language=en-US")))]).then((function(e){var t=e[0],c=e[1].cast.filter((function(e){return e.backdrop_path&&e.poster_path}));r(Object(i.a)(Object(i.a)({},o),{},{actor:!0,movie:!1})),g(t),S(c)}))},movieActorsList:b},children:o.movie?Object(p.jsx)(E,{movieActorsList:b,setTagsList:r,closePopup:c}):Object(p.jsx)(T,Object(i.a)(Object(i.a)({},_),{},{closePopup:c,actorMoviesList:C}))})]})},q=function(e){var t=e.popupBackground,c=e.setChosenMovie,a=e.handleChosenMovieId,s=Object(n.useState)(!1),o=Object(l.a)(s,2),r=o[0],i=o[1];Object(n.useEffect)((function(){return document.body.style.overflow="hidden",function(){return document.body.style.overflow="unset"}}),[]);var u=function(e){setTimeout((function(){e?a(e):c(null)}),500),i(!0)};return Object(p.jsx)("div",{className:v()("popup",{"popup__to-close":r}),style:{backgroundImage:"url(https://image.tmdb.org/t/p/w780".concat(t,")")},onClick:function(e){e.target===e.currentTarget&&u()},children:Object(p.jsx)(R,{toClose:r,closePopup:u})})},F=(c(36),function(e){var t=e.setOpenCart,c=e.movies,a=e.setCart,s=Object(n.useState)(!1),o=Object(l.a)(s,2),r=o[0],i=o[1],u=Object(n.useState)(),j=Object(l.a)(u,2),b=j[0],d=j[1];Object(n.useEffect)((function(){return i(!0),document.body.style.overflow="hidden",function(){return document.body.style.overflow="unset"}}),[]),Object(n.useEffect)((function(){if(c.length){var e=c.reduce((function(e,t){return e+=+(3*t.vote_average).toFixed(2)}),0);d(e)}}),[c]);var m=function(e){e.target===e.currentTarget&&(i(!1),setTimeout((function(){t(!1)}),500))};return Object(p.jsx)("div",{className:"cart",onClick:m,children:Object(p.jsxs)("div",{className:v()("cart__content",{"cart__content--is-open":r,"cart__include-product":!!c.length}),children:[Object(p.jsx)("div",{className:"cart__close-cross",onClick:m,children:"X"}),Object(p.jsx)("div",{className:"cart__title",children:"Movies"}),Object(p.jsx)("div",{className:"cart__movies",children:c.length?c.map((function(e){return Object(p.jsxs)("div",{className:"cart__movie",children:[Object(p.jsx)("span",{className:"cart__cancel",onClick:function(t){var n=c.filter((function(t){return t.id!==e.id}));a(n),!n.length&&m(t)},children:"x"}),Object(p.jsx)(x,{movie:e})]},e.id)})):Object(p.jsx)("span",{className:"cart__empty",children:"Cart is Empty"})}),Object(p.jsxs)("div",{className:"cart__client-field",children:[Object(p.jsxs)("div",{className:"cart__client-field--info",children:[Object(p.jsxs)("span",{className:"cart__goods-count",children:["Movies count: ",c.length]}),Object(p.jsxs)("span",{className:"cart__total-price",children:[" Total: $",b]})]}),Object(p.jsx)("button",{className:"cart__button-pay",disabled:!c.length,onClick:function(e){a([]),alert("Thank you for shopping"),m(e)},children:"PAY"})]})]})})}),A=a.a.createContext();var B=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),o=Object(l.a)(s,2),u=o[0],j=o[1],b=Object(n.useState)(""),h=Object(l.a)(b,2),v=h[0],f=h[1],_=Object(n.useState)([]),x=Object(l.a)(_,2),y=x[0],k=x[1],P=Object(n.useState)(null),w=Object(l.a)(P,2),G=w[0],M=w[1],I=Object(n.useState)({currentGenre:"",availableGenreList:[],sortKey:"popularity.desc"}),L=Object(l.a)(I,2),E=L[0],T=L[1],U=Object(n.useState)({totalPages:0,currentPage:1}),R=Object(l.a)(U,2),B=R[0],D=R[1],J=E.currentGenre,$=E.availableGenreList,K=E.sortKey,X=B.totalPages,H=B.currentPage;Object(n.useEffect)((function(){v&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return m("search/movie?api_key=".concat(d,"&language=en-US&page=1&include_adult=false&sort_by=vote_average.asc&query=").concat(e,"&page=").concat(t,"&original_language=en-US"))}(v,H).then((function(e){k(e.results.filter((function(e){return!!e.poster_path}))),D(Object(i.a)(Object(i.a)({},B),{},{totalPages:e.total_pages}))}))}),[v,H]),Object(n.useEffect)((function(){Promise.all([O(K),m("genre/movie/list?api_key=".concat(d,"&language=en-US"))]).then((function(e){var t=Object(l.a)(e,2),c=t[0],n=t[1];D((function(e){return Object(i.a)(Object(i.a)({},e),{},{totalPages:c.total_pages})})),T((function(e){return Object(i.a)(Object(i.a)({},e),{},{availableGenreList:n.genres})})),k(c.results)})),localStorage.setItem("data",JSON.stringify({}))}),[]),Object(n.useEffect)((function(){if(!v.length){var e=J?"&with_genres=".concat(J):"";O(K,"".concat(e,"&page=").concat(H)).then((function(e){D(Object(i.a)(Object(i.a)({},B),{},{totalPages:e.total_pages})),k(e.results)}))}}),[E,H,v]);var Y=function(){f(""),D(Object(i.a)(Object(i.a)({},B),{},{currentPage:1}))},z=function(e){var t;(t=e,m("movie/".concat(t,"?api_key=").concat(d,"&language=en-US"))).then(M)},Q=c.map((function(e){return e.id}));return Object(p.jsx)(A.Provider,{value:Object(i.a)(Object(i.a)({handleNavigation:function(e){var t=e.target,c=t.name,n=t.value;T(Object(i.a)(Object(i.a)({},E),{},Object(r.a)({},c,+n||n))),D(Object(i.a)(Object(i.a)({},B),{},{currentPage:1}))},setChosenMovie:M},G),{},Object(r.a)({chosenMovie:G,handleChosenMovieId:z,userRequest:v,setUserRequest:f,setDefaultState:Y,setCart:a,cartGoodsIds:Q,currentGenre:J,availableGenreList:$},"setDefaultState",Y)),children:Object(p.jsxs)("div",{className:"App",children:[u&&Object(p.jsx)(F,{openCart:u,setOpenCart:j,setCart:a,movies:c}),!!G&&Object(p.jsx)(q,{setChosenMovie:M,popupBackground:G.backdrop_path,handleChosenMovieId:z}),Object(p.jsx)(g,{setUserRequest:f,setOpenCart:j,products:c}),Object(p.jsxs)("div",{className:"main",children:[Object(p.jsx)(N,{countPage:X,currentPage:H,userRequest:v,setDefaultState:Y,movies:y}),X>1&&Object(p.jsx)(S,{countPage:X,currentPage:H,onSetCurrentPage:function(e){var t=e.target.value;D((function(e){return Object(i.a)(Object(i.a)({},e),{},{currentPage:+t})}))}})]}),Object(p.jsx)(C,{})]})})};o.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(B,{})}),document.getElementById("root"))}],[[37,1,2]]]);
//# sourceMappingURL=main.70080f97.chunk.js.map